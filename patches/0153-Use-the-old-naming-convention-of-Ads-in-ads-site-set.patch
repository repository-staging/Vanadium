From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: quh4gko8 <88831734+quh4gko8@users.noreply.github.com>
Date: Fri, 5 Jan 2024 20:28:01 +0000
Subject: [PATCH] Use the old naming convention of "Ads" in ads site settings

The upstream's word choice on blocking ads does not apply in Vanadium.
All sites are blocked with ads unless added as exception on a website
settings.
---
 .../site_settings/ContentSettingsResources.java      | 12 ++++++------
 .../site_settings/SingleWebsiteSettings.java         |  6 ++----
 .../browser_ui/site_settings/SiteSettings.java       |  2 --
 .../browser_ui/strings/android/site_settings.grdp    |  3 +++
 components/page_info/page_info_ui.cc                 |  4 ++--
 components/site_settings_strings.grdp                |  6 ++++++
 6 files changed, 19 insertions(+), 14 deletions(-)

diff --git a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/ContentSettingsResources.java b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/ContentSettingsResources.java
index 5b31da5eb5d7b..67482129b73c0 100644
--- a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/ContentSettingsResources.java
+++ b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/ContentSettingsResources.java
@@ -149,15 +149,15 @@ public class ContentSettingsResources {
             case ContentSettingsType.ADS:
                 return new ResourceItem(
                         R.drawable.web_asset,
-                        R.string.site_settings_page_intrusive_ads_label,
+                        R.string.ads_permission_title,
                         ContentSetting.ALLOW,
                         ContentSetting.BLOCK,
-                        R.string.site_settings_page_intrusive_allowed_sub_label,
-                        R.string.site_settings_page_intrusive_blocked_sub_label,
-                        R.string.site_settings_page_intrusive_ads_a11y,
+                        0,
+                        0,
+                        0,
                         R.drawable.ad_off_24px,
-                        R.string.site_settings_page_intrusive_allowed_sub_label,
-                        R.string.site_settings_page_intrusive_blocked_sub_label);
+                        0,
+                        0);
 
             case ContentSettingsType.ANTI_ABUSE:
                 return new ResourceItem(
diff --git a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SingleWebsiteSettings.java b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SingleWebsiteSettings.java
index b1992cc004480..e82846cbc9d49 100644
--- a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SingleWebsiteSettings.java
+++ b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SingleWebsiteSettings.java
@@ -1239,10 +1239,8 @@ public class SingleWebsiteSettings extends BaseSiteSettingsFragment
                         && findPreference(assumeNonNull(getPreferenceKey(ContentSettingsType.ADS)))
                                 != null;
 
-        if (!adBlockingActivated) {
-            removePreferenceSafely(PREF_INTRUSIVE_ADS_INFO);
-            removePreferenceSafely(PREF_INTRUSIVE_ADS_INFO_DIVIDER);
-        }
+        removePreferenceSafely(PREF_INTRUSIVE_ADS_INFO);
+        removePreferenceSafely(PREF_INTRUSIVE_ADS_INFO_DIVIDER);
     }
 
     @RequiresNonNull({"mSite"})
diff --git a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SiteSettings.java b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SiteSettings.java
index 198071e59d5e0..48f300bc9f47b 100644
--- a/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SiteSettings.java
+++ b/components/browser_ui/site_settings/android/java/src/org/chromium/components/browser_ui/site_settings/SiteSettings.java
@@ -168,8 +168,6 @@ public class SiteSettings extends BaseSiteSettingsFragment
                 p.setSummary(ContentSettingsResources.getGeolocationAllowedSummary());
             } else if (Type.CLIPBOARD == prefCategory && !checked) {
                 p.setSummary(ContentSettingsResources.getClipboardBlockedListSummary());
-            } else if (Type.ADS == prefCategory && !checked) {
-                p.setSummary(ContentSettingsResources.getAdsBlockedListSummary());
             } else if (Type.SOUND == prefCategory && !checked) {
                 p.setSummary(ContentSettingsResources.getSoundBlockedListSummary());
             } else if (Type.REQUEST_DESKTOP_SITE == prefCategory) {
diff --git a/components/browser_ui/strings/android/site_settings.grdp b/components/browser_ui/strings/android/site_settings.grdp
index aa888f8f25a32..0869cded19820 100644
--- a/components/browser_ui/strings/android/site_settings.grdp
+++ b/components/browser_ui/strings/android/site_settings.grdp
@@ -16,6 +16,9 @@
   <message name="IDS_ALL_SITES" desc='Title of the "All sites" settings screen that allows the user to see permissions for all websites. [CHAR_LIMIT=32]'>
     All sites
   </message>
+  <message name="IDS_ADS_PERMISSION_TITLE" desc="Title for the ads permission [CHAR_LIMIT=32]">
+    Ads
+  </message>
   <message name="IDS_ANTI_ABUSE_PERMISSION_TITLE" desc="Title for the anti-abuse permission [CHAR_LIMIT=32]">
     Auto-verify
   </message>
diff --git a/components/page_info/page_info_ui.cc b/components/page_info/page_info_ui.cc
index ad13d14f4c97a..bb8f339ee8cac 100644
--- a/components/page_info/page_info_ui.cc
+++ b/components/page_info/page_info_ui.cc
@@ -93,8 +93,8 @@ base::span<const PageInfoUI::PermissionUIInfo> GetContentSettingsUIInfo() {
        IDS_SITE_SETTINGS_TYPE_PROTECTED_MEDIA_ID,
        IDS_SITE_SETTINGS_TYPE_PROTECTED_MEDIA_ID_MID_SENTENCE},
 #endif
-      {ContentSettingsType::ADS, IDS_SITE_SETTINGS_TYPE_ADS,
-       IDS_SITE_SETTINGS_TYPE_ADS_MID_SENTENCE},
+      {ContentSettingsType::ADS, IDS_SITE_SETTINGS_TYPE_ADS_2,
+       IDS_SITE_SETTINGS_TYPE_ADS_MID_SENTENCE_2},
       {ContentSettingsType::SOUND, IDS_SITE_SETTINGS_TYPE_SOUND,
        IDS_SITE_SETTINGS_TYPE_SOUND_MID_SENTENCE},
       {ContentSettingsType::CLIPBOARD_READ_WRITE,
diff --git a/components/site_settings_strings.grdp b/components/site_settings_strings.grdp
index a97c029732c92..3bf454d3c6f21 100644
--- a/components/site_settings_strings.grdp
+++ b/components/site_settings_strings.grdp
@@ -7,6 +7,12 @@
   <message name="IDS_SITE_SETTINGS_TYPE_ADS_MID_SENTENCE" desc="This string is the name of the intrusive ads setting (visit chrome://settings/content and click 'Additional content settings') when used mid-sentence.">
     intrusive ads
   </message>
+  <message name="IDS_SITE_SETTINGS_TYPE_ADS_2" desc="This string is the name of the intrusive ads setting (visit chrome://settings/content and click 'Additional content settings').">
+    Ads
+  </message>
+  <message name="IDS_SITE_SETTINGS_TYPE_ADS_MID_SENTENCE_2" desc="This string is the name of the intrusive ads setting (visit chrome://settings/content and click 'Additional content settings') when used mid-sentence.">
+    ads
+  </message>
   <message name="IDS_SITE_SETTINGS_TYPE_ANTI_ABUSE" desc="The label used for the anti-abuse site settings controls.">
     Auto-verify
   </message>
